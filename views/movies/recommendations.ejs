<%- include('../partials/header.ejs') %>


<div class="container text-center my-3 movies-display">
  <h2 class="font-weight-light">click the movies you want to add to your playlist</h2>
  <div class="row mx-auto my-auto">
      <div id="movieCarousel" class="carousel slide w-100" data-interval="false">
          <div class="carousel-inner w-100" role="listbox">

     
<!-- https://www.codeply.com/go/EIOtI7nkP8/bootstrap-carousel-with-multiple-cards -->

<!-- need if statement for first poster path???? -->
<div class="carousel-item active">
  <div class="col-md-4">
      <div class="card card-body movie-<% 0 %>">
        <img class="img-fluid" src="https://image.tmdb.org/t/p/w500<%= moviesList[0].poster_path %>" alt="<%= moviesList[0].id %>" />
      </div>
  </div>
</div>
<% for (let i = 1; i < 21; i += 2) { %>
  <% if (moviesList[i].poster_path) { %> 
    <% console.log(moviesList[i].poster_path) %> 
    <!-- <div class="carousel-item active"> -->
    <div class="carousel-item">
        <div class="col-md-4">
            <div class="card card-body movie-<% i %>">
              <img class="img-fluid" src="https://image.tmdb.org/t/p/w500<%= moviesList[i].poster_path %>" alt="<%= moviesList[i].id %>" />
            </div>
        </div>
    </div>
    <% } %> 
    <% if (moviesList[i+1] && moviesList[i + 1].poster_path) { %> 
    <div class="carousel-item">
        <div class="col-md-4">
            <div class="card card-body movie-<% i %>">
              <img class="img-fluid" src="https://image.tmdb.org/t/p/w500<%= moviesList[i+1].poster_path %>" alt="<%= moviesList[i+1].id %>" />
            </div>
        </div>
    </div>
  <% } else {%> 
    <% console.log('no poster path') %> 
  <% } %> 
<% } %>
 
          </div>
          <a class="carousel-control-prev w-auto" href="#movieCarousel" role="button" data-slide="prev" data-interval="false">
              <span class="carousel-control-prev-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next w-auto" href="#movieCarousel" role="button" data-slide="next" data-interval="false">
              <span class="carousel-control-next-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
          </a>
      </div>
  </div>
</div>

<button id="review-playlist">
  <span class='review-button'>review playlist</span>
  <span class='review-movies'>review movies</span>
</button>

<a href="../playlists/new">retake quiz</a>

<div class="create-playlist-form">

  <div class="chosen-movies"></div>
  <form action="/playlists" method="POST" class="playlist-form">
  
    <div class="form-group">
      <input 
        type="text" 
        id="playlist-title" 
        name="title" 
        placeholder="playlist name"
        required
      />
    </div>

  
    <div class="form-group">
      <textarea 
        id="playlist-description" 
        name="description" 
        placeholder="Enter playlist description here. (You can change this later)"></textarea>
    </div>
  
    <button class="create-playlist">create playlist</button>
  
  </form>


</div>







<%- include('../partials/footer.ejs') %>